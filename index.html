<!DOCTYPE HTML>
<html>
  <head>
    <title>BORED WEB DESKTOP</title>
    <style>
      pre {
        margin:0 auto;
      }
    canvas {
      background-color: #f1f1f1;
      position: fixed;
      left:0;
      top:0;
    }
    body {
      font-family: monospace;
    }
</style>
    <!--
 BBBBB    OOOO   RRRRR   EEEEEE  DDDDD     W    W  EEEEEE  BBBBB     DDDDD   EEEEEE   SSSSS  K    K  TTTTTT   OOOO   PPPPP
 B    B  O    O  R    R  E       D    D    W    W  E       B    B    D    D  E       S       K   K     TT    O    O  P    P
 BBBBB   O    O  RRRRR   EEEEEE  D    D    W WW W  EEEEEE  BBBBB     D    D  EEEEEE   SSSS   KKKK      TT    O    O  PPPPP
 B    B  O    O  R   R   E       D    D    WW  WW  E       B    B    D    D  E            S  K   K     TT    O    O  P
 BBBBB    OOOO   R    R  EEEEEE  DDDDD     W    W  EEEEEE  BBBBB     DDDDD   EEEEEE  SSSSS   K    K    TT     OOOO   P
    -->
  </head>
  <body bgcolor="black" text="white">
    <p id="text1"></p> <!-- >_ -> loading -->
    <p id="text2"></p> <!-- loading os -->
    <pre id="ascii1" style="color: gold"></pre> <!-- ascii --> 
    <pre id="ascii2" style="color: gold"></pre> <!-- ascii --> 
    <pre id="ascii3" style="color: gold"></pre> <!-- ascii --> 
    <pre id="ascii4" style="color: gold"></pre> <!-- ascii -->
    <pre id="ascii5" style="color: gold"></pre> <!-- ascii --> 
    <p id="text3" style="color: gold"></p> <!-- author -->
    <script>
      var desktopItems = [];
      var fileSystem = [];
      document.getElementById('text1').innerHTML = `>`;
      setTimeout(function() {
        document.getElementById('text1').innerHTML = `>_`;
      }, 500)
      setTimeout(function() {
        document.getElementById('text1').innerHTML = `>`;
      }, 1000)
      setTimeout(function() {
        document.getElementById('text1').innerHTML = `>_`;
      }, 1500)
      setTimeout(function() {
        document.getElementById('text1').innerHTML = `>`;
      }, 2000)
      setTimeout(function() {
        document.getElementById('text1').innerHTML = `Loading...`;
      }, 3000)
      setTimeout(function() {
        document.getElementById('text2').innerHTML = `Loading OS...`;
      }, 4000)
      setTimeout(function() {
        document.getElementById('ascii1').innerHTML = ` BBBBB    OOOO   RRRRR   EEEEEE  DDDDD     W    W  EEEEEE  BBBBB     DDDDD   EEEEEE   SSSSS  K    K  TTTTTT   OOOO   PPPPP`;
        document.getElementById('ascii2').innerHTML = ` B    B  O    O  R    R  E       D    D    W    W  E       B    B    D    D  E       S       K   K     TT    O    O  P    P`;
        document.getElementById('ascii3').innerHTML = ` BBBBB   O    O  RRRRR   EEEEEE  D    D    W WW W  EEEEEE  BBBBB     D    D  EEEEEE   SSSS   KKKK      TT    O    O  PPPPP`;
        document.getElementById('ascii4').innerHTML = ` B    B  O    O  R   R   E       D    D    WW  WW  E       B    B    D    D  E            S  K   K     TT    O    O  P`;
        document.getElementById('ascii5').innerHTML = ` BBBBB    OOOO   R    R  EEEEEE  DDDDD     W    W  EEEEEE  BBBBB     DDDDD   EEEEEE  SSSSS   K    K    TT     OOOO   P`;
        
      /*  document.getElementById('text3').innerHTML = `
 BBBBB    OOOO   RRRRR   EEEEEE  DDDDD     W    W  EEEEEE  BBBBB     DDDDD   EEEEEE   SSSSS  K    K  TTTTTT   OOOO   PPPPP
 B    B  O    O  R    R  E       D    D    W    W  E       B    B    D    D  E       S       K   K     TT    O    O  P    P
 BBBBB   O    O  RRRRR   EEEEEE  D    D    W WW W  EEEEEE  BBBBB     D    D  EEEEEE   SSSS   KKKK      TT    O    O  PPPPP
 B    B  O    O  R   R   E       D    D    WW  WW  E       B    B    D    D  E            S  K   K     TT    O    O  P
 BBBBB    OOOO   R    R  EEEEEE  DDDDD     W    W  EEEEEE  BBBBB     DDDDD   EEEEEE  SSSSS   K    K    TT     OOOO   P
        `; */
      }, 5000)
      setTimeout(function() {
        document.getElementById('text3').innerHTML = `METROGROUND swepzEh and contributors 2024`;
      }, 6000)
     // CANVAS STUFF
var background;
var desktopIcons = [
   new img(50, 50, 'https://falconczfi.github.io/boredwebdesktop/wallpaper/icon.png', 10, 0, function() {alert('TEST XD')})
];
var canvas = {
    canvas : document.createElement("canvas"),
    start : function() {
        this.canvas.width = window.screen.width;
        this.canvas.height = window.screen.height;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
        this.interval = setInterval(updateDisplay, 20);
    },
    clear : function() {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
}

setTimeout(function() {
canvas.start();
document.getElementById('text1').innerHTML = ``;
document.getElementById('text2').innerHTML = ``;
document.getElementById('text3').innerHTML = ``;
document.getElementById('ascii1').innerHTML = ``;
document.getElementById('ascii2').innerHTML = ``;
document.getElementById('ascii3').innerHTML = ``;
document.getElementById('ascii4').innerHTML = ``;
document.getElementById('ascii5').innerHTML = ``;
background = new img(canvas.canvas.width, canvas.canvas.height, 'https://falconczfi.github.io/boredwebdesktop/wallpaper/boredwebdesktop_blue.png', 0, 0);
}, 8000)
function img(width, height, src, x, y, onclick) {
  this.image = new Image();
  this.image.src = src; // uwu
  this.onclick = function() {
    
  }
  if(!onclick) {
    console.log('Desktop/img: No onclick attribute specified for the image at ' + x + ', ' + y + ' (' + src + ')');
  } else {
    this.onclick = onclick;
  }
  this.width = width;
  this.height = height;
  this.x = x;
  this.y = y;    
  this.update = function() {
        ctx = canvas.context;
        ctx.drawImage(this.image, this.x, this.y, this.width, this.height);
    }
}
function obj(width, height, color, x, y) {
    this.width = width;
    this.height = height;
    this.x = x;
    this.y = y;    
    this.update = function(){
        ctx = canvas.context;
        ctx.fillStyle = color;
        ctx.fillRect(this.x, this.y, this.width, this.height);
    }
}

// Update wallpaper based on ID xd
function updateWallpaper() {
  if(!localStorage.currentWallpaper) { // create the local storage key if it doesn't exist
    console.log('Desktop/updateWallpaper: The local storage key for the wallpaper setting doesn\'t exist, creating it...')
    localStorage.setItem('currentWallpaper', 'DEFAULT');
    console.log('Desktop/updateWallpaper: The local storage key for the wallpaper setting was created and set as DEFAULT')
    background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/boredwebdesktop_blue.png'
  } else { // If the local storage key for the wallpaper exists then update the wallpaper based on id, wow simple solution
    if(localStorage.currentWallpaper == 'DEFAULT') {
      background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/boredwebdesktop_blue.png'
    } else if(localStorage.currentWallpaper == 'DARK_GREEN') {
      background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/dark_green.png'
    } else if(localStorage.currentWallpaper == 'LIGHT') {
      background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/boredwebdesktop_light.png'
    } else if(localStorage.currentWallpaper == 'GRED') {
      background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/gradient_red.png'
    } else if(localStorage.currentWallpaper == 'GBLUE') {
      background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/gradient_blue.png'
    } else if(localStorage.currentWallpaper == 'GGREEN') {
      background.image.src = 'https://falconczfi.github.io/boredwebdesktop/wallpaper/gradient_green.png'
    } else { // This is obvious, if the wallpaper ID is invalid you're basically fucked cause it's gonna spam and it's all ur problem
      console.error('Desktop/updateWallpaper failed: Invalid wallpaper ID in the local storage wallpaper settings')
      alert('Desktop/updateWallpaper failed: Invalid wallpaper ID in the local storage wallpaper settings, to remove this error, go to DevTools console (Ctrl + Shift + I or F12) and type localStorage.currentWallpaper = \'DEFAULT\'; or clear the site data and cookies')
    }
  }
}
function updateDisplay() { // update canvas
    canvas.clear();
    background.update();
    desktopIcons.forEach(icon => {
      icon.update(); // Update all icons in the array xd
      icon.image.addEventListener('click', function() {
        eval(icon.onclick);
      })
    });
    
}
      // update the wallpaper every 500ms wow no shit xd
      setInterval(function() {
        updateWallpaper();
      }, 500)
        </script>
  </body>
</html>
